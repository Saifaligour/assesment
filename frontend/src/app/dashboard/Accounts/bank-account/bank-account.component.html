<div class="wrapper page-inner content-fixed">

    <div class="conatiner w-100">
        <div class="row panel panel-default p-6">
            <div class="col-md-6">
                <div class="panel panel-default   mt-16">

                    <mat-accordion class="bank-acc">
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header>
                                <mat-panel-title>

                                    Bank Accounts </mat-panel-title>

                            </mat-expansion-panel-header>

                            <div *ngFor="let item of userBankCard" class="text-dec">
                                <div class="cp" (click)="openCard(item)">
                                    <h5>{{item.ac_holdername}}</h5>
                                    <p>{{item.account_no}}</p>
                                </div>
                            </div>




                        </mat-expansion-panel>

                    </mat-accordion>
                </div>

            </div>
            <div class="col-md-6">
                <div class="display">


                    <div class="bank-card">
                        <span>
                                       
                                        
                                        <p>{{acBankName}}</p>
                                </span>
                        <span>
                                        <p>{{currency}}</p>
                                </span>
                        <p>{{accontHolderFirstName}} {{accontHolderLastName}}</p>

                        <p>{{status}}</p>
                        <p>{{iban}}</p>
                        <p>{{branchName}}</p>
                        <p *ngIf="swiftCode === undefined">{{cardNumber}}</p>
                        <p *ngIf="cardNumber === undefined">{{swiftCode}}</p>

                        <mat-slide-toggle (change)="enableDisaleCard(iban)"></mat-slide-toggle>

                    </div>

                </div>
            </div>


        </div>




        <div class="panel panel-default  mt-16">

            <mat-accordion>
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            Register New Bank Account
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <h4>Account Holder</h4>
                    <form [formGroup]="createBankAccountForm">
                        <div class="row mt-3">

                            <div class="col-md-6">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="text" matInput formControlName="ac_holder_firstname" placeholder="First Name">
                                    <mat-error *ngIf="controls.ac_holder_firstname.touched && controls.ac_holder_firstname.errors">
                                        <mat-error *ngIf="controls.ac_holder_firstname.errors.required">First Name is required!
                                        </mat-error>
                                        <mat-error *ngIf="controls.ac_holder_firstname.errors.pattern">First Name is not valid!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6 fa-pull-right">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="text" matInput formControlName="ac_holder_lastname" placeholder="Last Name">
                                    <mat-error *ngIf="controls.ac_holder_lastname.touched && controls.ac_holder_lastname.errors">
                                        <mat-error *ngIf="controls.ac_holder_lastname.errors.required">Last Name is required!
                                        </mat-error>
                                        <mat-error *ngIf="controls.ac_holder_lastname.errors.pattern">Last name is invalid!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>

                        </div>

                        <div class="row mt-3">

                            <div class="col-md-6">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="tel" matInput formControlName="ac_holder_moblile" placeholder="Mobile">
                                    <mat-error *ngIf="controls.ac_holder_moblile.touched && controls.ac_holder_moblile.errors">
                                        <mat-error *ngIf="controls.ac_holder_moblile.errors.required">Mobile number is required!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6 fa-pull-right">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="email" matInput formControlName="ac_holder_email" placeholder="Email">
                                    <mat-error *ngIf="controls.ac_holder_email.touched && controls.ac_holder_email.errors">
                                        <mat-error *ngIf="controls.ac_holder_email.errors.required">Email is required!
                                        </mat-error>
                                        <mat-error *ngIf="controls.ac_holder_email.errors.email">Email is not valid!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>

                        </div>

                        <h4>Bank Account Detail</h4>
                        <div class="row mt-3">

                            <div class="col-md-6">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="text" matInput formControlName="ac_holdername" placeholder="Bank Name">
                                    <mat-error *ngIf="controls.ac_holdername.touched && controls.ac_holdername.errors">
                                        <mat-error *ngIf="controls.ac_holdername.errors.required">Bank name is required!
                                        </mat-error>
                                        <mat-error *ngIf="controls.ac_holdername.errors.pattern">Bank name is invalid!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6 fa-pull-right">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="text" matInput formControlName="branch_name" placeholder="Branch Name">
                                    <mat-error *ngIf="controls.branch_name.touched && controls.branch_name.errors">
                                        <mat-error *ngIf="controls.branch_name.errors.required">Branch name is required!
                                        </mat-error>
                                        <mat-error *ngIf="controls.branch_name.errors.pattern">Branch name is invalid
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>

                        </div>
                        <div class="row mt-3">

                            <div class="col-md-6">
                                <mat-form-field class="wd-100 mt-10">
                                    <mat-select placeholder="Choose Currency" formControlName="currency" [(ngModel)]="currencyType">
                                        <mat-option value="euro">
                                            Euro
                                        </mat-option>
                                        <mat-option value="rial">
                                            Rial
                                        </mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="controls.currency.touched && controls.currency.errors">
                                        <mat-error *ngIf="controls.currency.errors.required">Currency is required!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6 fa-pull-right" *ngIf="currencyType === 'euro'">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="text" matInput formControlName="swift_code" placeholder="Swift Code">
                                    <mat-error *ngIf="controls.swift_code.touched && controls.swift_code.errors">
                                        <mat-error *ngIf="controls.swift_code.errors.required">Swift code is required!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-6 fa-pull-right" *ngIf="currencyType === 'rial'">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="text" matInput formControlName="swift_code" placeholder="Card Number">
                                    <mat-error *ngIf="controls.swift_code.touched && controls.swift_code.errors">
                                        <mat-error *ngIf="controls.swift_code.errors.required">Card Number is required!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>
                            </div>

                        </div>
                        <div class="row mt-3">

                            <div class="col-md-8 text-center">
                                <mat-form-field class="wd-100 mt-10">
                                    <input type="text" matInput formControlName="account_no" placeholder="IBAN">
                                    <mat-error *ngIf="controls.account_no.touched && controls.account_no.errors">
                                        <mat-error *ngIf="controls.account_no.errors.required">IBAN is required!
                                        </mat-error>
                                    </mat-error>
                                </mat-form-field>

                            </div>

                        </div>
                        <div class="row mt-10">
                            <div class="col-md-12 text-center">
                                <h5 class="font">Upload Document</h5>
                                <p>Maximum file size: 5 MB Supported Formats: JPG, PNG, GIF</p>
                                <div class="form-group select-dp">
                                    <input type="file" accept="image/*" (change)="onAccountStatementPicked($event)">
                                </div>
                                <div class="form-group" *ngIf="accountStatement">
                                    <img [src]="accountStatement || ''" alt="" srcset="" height="150px" width="150px">
                                </div>
                                <div>
                                    <button type="button" mat-raised-button class="  grad-css" style="color: #fff;">Choose File</button>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="col-md-12 pull-left">
                        <button type="button" mat-raised-button [ngClass]="{'grad-css': createBankAccountForm.valid}" [disabled]="!createBankAccountForm.valid" (click)="createAccount()">Create Account</button>
                    </div>
                </mat-expansion-panel>

            </mat-accordion>
        </div>
    </div>
</div>